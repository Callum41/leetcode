Well, this time chatgpt did most of the work, as I didn't get how to approach the problem correctly.
Ended up understanding it anyway so, can't complain